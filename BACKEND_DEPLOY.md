# üöÄ –î–µ–ø–ª–æ–π Backend –Ω–∞ Railway (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

## ‚úÖ –ü–æ—á–µ–º—É Railway?

- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω** (500 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –∏–∑ GitHub
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS** (SSL)
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (5 –º–∏–Ω—É—Ç)
- ‚úÖ **SQLite —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

---

## üìã –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ server/package.json –µ—Å—Ç—å
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ server/index.js —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

---

## üöÇ –®–∞–≥ 2: –î–µ–ø–ª–æ–π –Ω–∞ Railway

### 2.1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub (–∫–Ω–æ–ø–∫–∞ "Login with GitHub")
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Railway –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É GitHub

### 2.2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç

1. –ù–∞–∂–º–∏—Ç–µ **"New Project"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `gorelikspb/cinemood`
4. Railway –æ–±–Ω–∞—Ä—É–∂–∏—Ç –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 2.3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å

Railway –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å Node.js –ø—Ä–æ–µ–∫—Ç:

1. **Settings** ‚Üí **Root Directory**: –≤—ã–±–µ—Ä–∏—Ç–µ `server`
2. **Settings** ‚Üí **Start Command**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (Railway –Ω–∞–π–¥–µ—Ç `npm start`)
3. **Settings** ‚Üí **Watch Paths**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º

### 2.4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Railway Dashboard ‚Üí **Variables** –¥–æ–±–∞–≤—å—Ç–µ:

```
CLIENT_URL=https://–≤–∞—à-frontend-domain.netlify.app
PORT=5000
NODE_ENV=production
```

**–í–∞–∂–Ω–æ:** `CLIENT_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–º–µ–Ω–æ–º –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ Netlify!

### 2.5. –î–µ–ø–ª–æ–π!

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm install`)
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä (`npm start`)
- ‚úÖ –í—ã–¥–∞—Å—Ç –≤–∞–º HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://cinemood-production.up.railway.app`)

---

## üîó –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Frontend –∫ Backend

### 3.1. –ü–æ–ª—É—á–∏—Ç–µ URL Backend

–í Railway Dashboard –≤—ã —É–≤–∏–¥–∏—Ç–µ URL –≤–∏–¥–∞:
```
https://cinemood-production.up.railway.app
```

### 3.2. –û–±–Ω–æ–≤–∏—Ç–µ Netlify

–í Netlify Dashboard ‚Üí **Site settings** ‚Üí **Environment variables**:

1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Key**: `REACT_APP_API_URL`
   - **Value**: `https://cinemood-production.up.railway.app/api`

2. **Trigger deploy** ‚Üí **Deploy site** (—á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è)

### 3.3. –û–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞ Backend

–í Railway ‚Üí **Variables** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ:
```
CLIENT_URL=https://–≤–∞—à-frontend-domain.netlify.app
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:
- ‚úÖ Frontend –Ω–∞ Netlify (`https://cinemood-xxx.netlify.app`)
- ‚úÖ Backend –Ω–∞ Railway (`https://cinemood-production.up.railway.app`)
- ‚úÖ –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ! üéâ

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push`:
- **Frontend** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ Netlify
- **Backend** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ Railway

**–ù–∏—á–µ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!** üöÄ

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ Railway –Ω–µ –ø–æ–¥–æ–π–¥–µ—Ç)

### Render.com (—Ç–æ–∂–µ –ø—Ä–æ—Å—Ç–æ–π)

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://render.com
2. –°–æ–∑–¥–∞–π—Ç–µ **Web Service**
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Root Directory**: `server`
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Environment**: `Node`
5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
6. –ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π URL

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### SQLite –Ω–∞ Railway

SQLite —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Railway, –Ω–æ:
- ‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ
- ‚úÖ –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL (Railway –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:
1. –í Railway ‚Üí **New** ‚Üí **Database** ‚Üí **PostgreSQL**
2. –ü–æ–ª—É—á–∏—Ç–µ `DATABASE_URL`
3. –û–±–Ω–æ–≤–∏—Ç–µ `server/index.js` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PostgreSQL –≤–º–µ—Å—Ç–æ SQLite

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–º–µ–Ω –¥–ª—è backend (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Railway –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ

