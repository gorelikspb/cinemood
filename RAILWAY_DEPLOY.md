# üöÄ –î–µ–ø–ª–æ–π Backend –Ω–∞ Railway - –ü–†–û–°–¢–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

## ‚ö° –ó–∞ 5 –º–∏–Ω—É—Ç –≤—ã –∑–∞–¥–µ–ø–ª–æ–∏—Ç–µ backend!

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Railway
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ **https://railway.app**
2. –ù–∞–∂–º–∏—Ç–µ **"Start a New Project"**
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ **GitHub** (–∫–Ω–æ–ø–∫–∞ "Login with GitHub")
   - –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ Railway –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É GitHub

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
1. –ù–∞–∂–º–∏—Ç–µ **"Deploy from GitHub repo"**
2. –ù–∞–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–∫–µ **`cinemood`** (–∏–ª–∏ `gorelikspb/cinemood`)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

### –®–∞–≥ 3: –£–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É server
**–í–ê–ñ–ù–û:** Railway –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –ø–∞–ø–∫–æ–π `server`!

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Settings** (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ —Å–ø—Ä–∞–≤–∞)
2. –ù–∞–π–¥–∏—Ç–µ **"Root Directory"**
3. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–±–µ—Ä–∏—Ç–µ**: **`server`**
4. –ù–∞–∂–º–∏—Ç–µ **"Save"**

–ï—Å–ª–∏ Railway –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–±—Ä–∞—Ç—å frontend:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Root Directory = `server` (–Ω–µ –ø—É—Å—Ç–æ!)
- Railway –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ `server/package.json`, –∞ –Ω–µ –∫–æ—Ä–Ω–µ–≤–æ–π `package.json`

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä!

### –®–∞–≥ 4: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í Railway Dashboard ‚Üí **Variables** ‚Üí **"New Variable"**:

–î–æ–±–∞–≤—å—Ç–µ –ø–æ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 1:**
- **Name**: `CLIENT_URL`
- **Value**: `https://–≤–∞—à-frontend-domain.netlify.app`
  (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω –∏–∑ Netlify, –Ω–∞–ø—Ä–∏–º–µ—Ä: `https://cinemood-12345.netlify.app`)

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 2:**
- **Name**: `NODE_ENV`
- **Value**: `production`

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è 3:**
- **Name**: `PORT`
- **Value**: `5000`

### –®–∞–≥ 5: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL Backend
–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã —É–≤–∏–¥–∏—Ç–µ URL –≤–∏–¥–∞:
```
https://cinemood-production.up.railway.app
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç URL!**

### –®–∞–≥ 6: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Frontend
–í Netlify Dashboard:

1. **Site settings** ‚Üí **Environment variables**
2. **"Add variable"**
3. –î–æ–±–∞–≤—å—Ç–µ:
   - **Key**: `REACT_APP_API_URL`
   - **Value**: `https://–≤–∞—à-railway-url.up.railway.app/api`
     (–≤—Å—Ç–∞–≤—å—Ç–µ URL –∏–∑ Railway + –¥–æ–±–∞–≤—å—Ç–µ `/api` –≤ –∫–æ–Ω—Ü–µ)
4. **"Save"**
5. **Deploys** ‚Üí **Trigger deploy** ‚Üí **Deploy site**

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å backend —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –Ω–∞ Railway! üéâ

---

## üß™ –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (–∫–æ–≥–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–∫–ª—é—á–µ–Ω)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend
cd server
npm start

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend  
cd client
npm start
```

Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ `http://localhost:5000/api`.

**–ù–æ –ø–æ–º–Ω–∏—Ç–µ:** –ö–æ–≥–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–∫–ª—é—á–µ–Ω, backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

---

## ‚ùì –ß—Ç–æ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: Railway Dashboard ‚Üí **Deployments** ‚Üí **View Logs**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ **Root Directory** —É–∫–∞–∑–∞–Ω–æ `server`

2. **CORS –æ—à–∏–±–∫–∏:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `CLIENT_URL` –≤ Railway = –≤–∞—à Netlify –¥–æ–º–µ–Ω (—Ç–æ—á–Ω–æ!)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `REACT_APP_API_URL` –≤ Netlify = –≤–∞—à Railway URL + `/api`

3. **404 –æ—à–∏–±–∫–∏:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Netlify –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `REACT_APP_API_URL` –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `/api`

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é (5 –º–∏–Ω—É—Ç):

1. ‚úÖ –ó–∞–π—Ç–∏ –Ω–∞ Railway.app ‚Üí –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ GitHub
2. ‚úÖ –í—ã–±—Ä–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `cinemood`
3. ‚úÖ –£–∫–∞–∑–∞—Ç—å Root Directory = `server`
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å 3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Railway URL
6. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `REACT_APP_API_URL` –≤ Netlify

**–í—Å—ë! –û—Å—Ç–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.** üöÄ

---

## üí° –ü–æ—á–µ–º—É Railway –ª—É—á—à–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞?

- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç 24/7** (–¥–∞–∂–µ –∫–æ–≥–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–∫–ª—é—á–µ–Ω)
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω** (500 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS** (SSL)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push`
- ‚úÖ **–ù–µ –Ω—É–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–∫–ª—é—á–µ–Ω–Ω—ã–º**

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ Railway - –ª—É—á—à–∏–π –≤—ã–±–æ—Ä!** üöÄ

